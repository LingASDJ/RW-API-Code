<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>触发代码参考文档 | RW-API_Code</title>
    <meta name="description" content="Easy Code">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.B7ouotVp.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DWg8kx2g.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.C_TReAQX.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DPDPlp3K.js">
    <link rel="modulepreload" href="/assets/src_Map_trigger.md.DdBXl6Fv.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-44901f94 data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>RW-API_Code</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/src/Unit/core" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>单位API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/src/Map/teada" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>地图API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/src/Debug/test" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>调试API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api-dev" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>编写指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/src/RW-Engine/quick-start" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>RW-Engine指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cos" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>感谢名单</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/LingASDJ/RW-API-Code/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/LingASDJ/RW-API-Code/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>RW-API-Code</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>主页-Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><p class="text" data-v-b3fd67f8>-------------------------</p><!----></div><!----></div><div class="VPSidebarItem level-1" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><p class="text" data-v-b3fd67f8>[API-单位组-Unit]</p><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/core" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>核心-CORE</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/canbuild" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>可建造-CANBUILD</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/attachment" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>附属-ATTACHMENT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/graphics" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>图像-GRAPHICS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/turret" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>炮塔-TURRET</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/attack" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>攻击-ATTACK</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/movement" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>运动-MOVEMENT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/loginboolean" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>逻辑-LOGIC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/src/Unit/spawnunit_spawnprojectile" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>刷兵/刷单位-SPAWN</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><p class="text" data-v-b3fd67f8>-------------------------</p><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _src_Map_trigger" data-v-39a288b8><div><h1 id="触发代码参考文档" tabindex="-1">触发代码参考文档 <a class="header-anchor" href="#触发代码参考文档" aria-label="Permalink to &quot;触发代码参考文档&quot;">​</a></h1><h2 id="特殊触发-不存在通用触发代码" tabindex="-1">特殊触发（不存在通用触发代码） <a class="header-anchor" href="#特殊触发-不存在通用触发代码" aria-label="Permalink to &quot;特殊触发（不存在通用触发代码）&quot;">​</a></h2><ul><li>● 表示使用字段“name”而不是“type”</li></ul><h3 id="●map-info" tabindex="-1">●map_info <a class="header-anchor" href="#●map-info" aria-label="Permalink to &quot;●map_info&quot;">​</a></h3><ul><li><p><strong>type</strong></p><ul><li>地图类型 <ul><li><code>survival</code>：生存。触发刷新波机制，指挥中心全部失去后判定失败。需设置 <code>winCondition</code> 和 <code>attack_point</code>。</li><li><code>challenge</code>：挑战。触发队友视野不共享机制。需设置 <code>winCondition</code>。</li><li><code>skirmish</code>：遭遇战。基础类型，无需设置其他属性。</li><li><code>mission</code>：任务。基础类型，需设置 <code>winCondition</code>。</li></ul></li></ul></li><li><p><strong>fog</strong></p><ul><li>雾类型 <ul><li><code>map</code>：基础雾</li><li><code>los</code>：重雾</li><li><code>none</code>：无雾</li></ul></li><li>注：此设置会被房间里的游戏设置覆盖。</li></ul></li><li><p><strong>introText</strong></p><ul><li>开局弹出的消息，可使用 <code>/n</code> 换行。 <ul><li><code>string</code></li></ul></li></ul></li><li><p><strong>winCondition/loseCondition</strong></p><ul><li>胜利/失败条件 <ul><li><code>mainBuildings</code>：可进行生产的建筑物。</li><li><code>allUnitsAndBuildings</code>：所有的单位和建筑物。</li><li><code>allBuildings</code>：所有的建筑物。</li><li><code>commandCenter</code>：指挥中心。</li><li><code>requiredObjectives</code>：地图所有的 <code>objective</code> 都被触发。</li><li><code>none</code></li></ul></li><li>注：<code>loseCondition</code> 在 1.15 版本被删除。</li></ul></li><li><p><strong>shareFogWithAllies</strong></p><ul><li>与盟友共享雾，优先级最高。 <ul><li><code>bool</code></li></ul></li><li>注：目前在多人游戏中无效。</li></ul></li><li><p><strong>survivalWavesClassic</strong></p><ul><li>1.14 之前的老式刷兵机制。 <ul><li><code>bool</code></li></ul></li></ul></li><li><p><strong>startWithMusic</strong></p><ul><li>开局播放的音乐。 <ul><li><code>Your music name</code></li><li>例：<code>startWithMusic:My music</code></li></ul></li></ul></li><li><p><strong>survivalWaves</strong></p><ul><li>自定义生存波。 <ul><li><code>time string - int unitName string</code></li><li>生存波具体写法：<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>+1:00 [时间]</span></span>
<span class="line"><span>第一波 [悬浮文本]</span></span>
<span class="line"><span>- [出的单位所需的]</span></span>
<span class="line"><span>3 [单位数量]</span></span>
<span class="line"><span>builder [需要派出的单位]</span></span></code></pre></div></li><li>特殊指令： <ul><li><code>[win]</code>：视为本局结束。</li><li><code>[paused]</code>：暂停游戏。</li><li><code>[noTimer]</code>：没有计时器。</li><li><code>[lockSpawn]</code>：锁定生成器。</li><li><code>[unlockSpawn]</code>：解锁生成器。</li></ul></li><li>例：<div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;survivalWaves&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+1:00 第一波 - 3 builder</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+1:50 第二波 - 3 builder, 5 fireBee</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li></ul></li></ul></li></ul><h3 id="team-info" tabindex="-1">team_info <a class="header-anchor" href="#team-info" aria-label="Permalink to &quot;team_info&quot;">​</a></h3><ul><li><p><strong>credits</strong></p><ul><li>开始时该队伍所拥有的资金。 <ul><li><code>int</code></li></ul></li><li>注：此代码会被房间设置覆盖。</li></ul></li><li><p><strong>shareFogWithAllies</strong></p><ul><li>与盟友共享雾，优先级最高。 <ul><li><code>bool</code></li></ul></li><li>注：目前在多人游戏中无效。</li></ul></li><li><p><strong>team</strong></p><ul><li>所指定的队伍。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>disabledAI</strong></p><ul><li>AI 无法控制这个队伍的单位。 <ul><li><code>bool</code></li></ul></li><li>注：此代码优先级最高，但在多人游戏中无效。</li></ul></li><li><p><strong>lockAiDifficulty</strong></p><ul><li>锁定该队的 AI 难度，数值大小会影响 AI 的经济增长。 <ul><li><code>int</code></li></ul></li><li>注： <ul><li><code>-2</code>：Very Easy</li><li><code>-1</code>：Easy</li><li><code>0</code>：Medium</li><li><code>1</code>：Hard</li><li><code>2</code>：Very Hard</li><li><code>3</code>：Impossible</li><li>其他数值：Unknown</li></ul></li><li>注：此代码会被房间设置覆盖。</li></ul></li><li><p><strong>allyGroup</strong></p><ul><li>指定这个队伍所属的阵营。 <ul><li><code>int</code></li></ul></li><li>注：此代码会被房间设置覆盖。</li></ul></li><li><p><strong>ai</strong></p><ul><li>让 AI 更主动地送兵。 <ul><li><code>survival</code></li></ul></li><li>注：建造者等也会被拿去送兵，且对面没有对应攻击单位时不会移动。</li></ul></li><li><p><strong>basicAI</strong></p><ul><li>让 AI 不建造建筑物，但保持出兵。 <ul><li><code>bool</code></li></ul></li><li>注：此代码在多人游戏中无效。</li></ul></li></ul><h3 id="rotate" tabindex="-1">rotate <a class="header-anchor" href="#rotate" aria-label="Permalink to &quot;rotate&quot;">​</a></h3><ul><li><strong>dir</strong><ul><li>单位旋转角度。 <ul><li><code>int</code></li></ul></li></ul></li></ul><h3 id="fall" tabindex="-1">fall <a class="header-anchor" href="#fall" aria-label="Permalink to &quot;fall&quot;">​</a></h3><ul><li>在开局时在该处生成的单位从天上降落。 <ul><li>注：对一些单位无效。</li></ul></li></ul><h3 id="●string" tabindex="-1">●string <a class="header-anchor" href="#●string" aria-label="Permalink to &quot;●string&quot;">​</a></h3><ul><li><strong>point</strong><ul><li>结合 <code>move</code> 中的 <code>target</code> 使用。</li></ul></li></ul><h3 id="●camera-start" tabindex="-1">●camera_start <a class="header-anchor" href="#●camera-start" aria-label="Permalink to &quot;●camera_start&quot;">​</a></h3><ul><li><strong>zoomTo</strong><ul><li>开局视角所在地，<code>zoomTo</code> 可选填，用于缩放开局视野。 <ul><li><code>int</code>（<code>int≥1, int∈R*</code>）</li></ul></li></ul></li></ul><h3 id="camera-pan" tabindex="-1">camera_pan <a class="header-anchor" href="#camera-pan" aria-label="Permalink to &quot;camera_pan&quot;">​</a></h3><ul><li><strong>index</strong><ul><li>只在 <code>menu_background</code> 中有效。 <ul><li><code>int</code>（<code>int≥0, int∈R*</code>）</li></ul></li></ul></li></ul><h3 id="ai-allow-full-use" tabindex="-1">ai_allow_full_use <a class="header-anchor" href="#ai-allow-full-use" aria-label="Permalink to &quot;ai_allow_full_use&quot;">​</a></h3><ul><li>让 AI 更主动地使用这里的单位（类似于 <code>ai:survival</code> 的效果）。 <ul><li>注：此代码在多人游戏中无效。</li></ul></li></ul><h3 id="●attack-point" tabindex="-1">●attack_point <a class="header-anchor" href="#●attack-point" aria-label="Permalink to &quot;●attack_point&quot;">​</a></h3><ul><li>生存模式下的出兵点。</li></ul><h3 id="set-team" tabindex="-1">set_team <a class="header-anchor" href="#set-team" aria-label="Permalink to &quot;set_team&quot;">​</a></h3><ul><li><strong>team</strong><ul><li>设置这个区域里的单位所属队伍。 <ul><li><code>int</code></li></ul></li></ul></li></ul><h2 id="一般触发-可使用通用触发代码" tabindex="-1">一般触发（可使用通用触发代码） <a class="header-anchor" href="#一般触发-可使用通用触发代码" aria-label="Permalink to &quot;一般触发（可使用通用触发代码）&quot;">​</a></h2><h3 id="move" tabindex="-1">move <a class="header-anchor" href="#move" aria-label="Permalink to &quot;move&quot;">​</a></h3><ul><li><strong>target</strong><ul><li>对应目标 <code>point</code> 的数值。 <ul><li><code>string</code></li></ul></li></ul></li><li><strong>unload</strong><ul><li>如果是载具，移动到目标点后卸载载具中的单位。 <ul><li><code>bool</code></li></ul></li></ul></li></ul><h3 id="unitremove" tabindex="-1">unitRemove <a class="header-anchor" href="#unitremove" aria-label="Permalink to &quot;unitRemove&quot;">​</a></h3><ul><li>移除这个区域内的指定队伍的单位。</li><li><strong>onlyIfEmpty</strong><ul><li>只移除未搭载单位的单位。 <ul><li><code>bool</code></li></ul></li><li>注：可能是 bug 导致的，或 1.16 的更新动向。</li></ul></li></ul><h3 id="unitdetect" tabindex="-1">unitDetect <a class="header-anchor" href="#unitdetect" aria-label="Permalink to &quot;unitDetect&quot;">​</a></h3><ul><li><strong>onlyOnResourcePool</strong><ul><li>检测在资源坑上的建筑（如矿坑上的资源抽取器）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyMainBuildings</strong><ul><li>检测可生产单位的建筑物（如陆军工厂）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyBuildings</strong><ul><li>检测建筑物（如陆军工厂）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyBuilders</strong><ul><li>检测 <code>ini</code> 中拥有 <code>isBuilder:true</code> 的单位。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyIdle</strong><ul><li>检测闲置中的单位（无下达指令的单位）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyEmptyQueue</strong><ul><li>检测排列队列为空的单位（如当前一个单位建设/升级排列是闲置的）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyIfEmpty</strong><ul><li>检测除了搭载了单位的单位之外的单位。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyTechLevel</strong><ul><li>检测科技等级符合的单位。 <ul><li><code>int</code></li></ul></li></ul></li><li><strong>onlyAttack</strong><ul><li>检测有攻击性的单位（如炮塔）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyAttackAir</strong><ul><li>检测只攻击空中的单位（如防空炮塔）。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>onlyWithTag</strong><ul><li>检测具有特定标签的单位。 <ul><li><code>string</code>（单位的 <code>tags</code>）</li></ul></li></ul></li><li><strong>includeIncomplete</strong><ul><li>检测包括未被完全建造的单位。 <ul><li><code>bool</code></li></ul></li></ul></li><li><strong>unitType</strong><ul><li>检测一个特定名称的单位。 <ul><li><code>unit name</code></li></ul></li></ul></li><li><strong>minUnits</strong><ul><li>该宾语触发所满足的最小单位，如果达到则触发。 <ul><li><code>int</code></li><li>例：设置为 <code>minUnits:3</code>，则区域内单位 ≥3 时触发。</li><li>注：可与 <code>maxUnits</code> 同时使用。</li></ul></li></ul></li><li><strong>maxUnits</strong><ul><li>该宾语触发所满足的最大单位，如果达到则触发。 <ul><li><code>int</code></li><li>例：设置为 <code>maxUnits:3</code>，则区域内单位 ≤3 时触发。</li><li>注：可与 <code>minUnits</code> 同时使用。</li></ul></li></ul></li></ul><h3 id="unitadd" tabindex="-1">unitAdd <a class="header-anchor" href="#unitadd" aria-label="Permalink to &quot;unitAdd&quot;">​</a></h3><ul><li><strong>spawnUnits</strong><ul><li>生成单位。 <ul><li><code>string</code>（<code>unit name</code>）</li><li>例：<code>spawnUnits:tank*2,builder*1</code></li></ul></li></ul></li></ul><h3 id="teamtagdetect" tabindex="-1">teamTagDetect <a class="header-anchor" href="#teamtagdetect" aria-label="Permalink to &quot;teamTagDetect&quot;">​</a></h3><ul><li><strong>teamTag</strong><ul><li>检测队伍标签。 <ul><li><code>string</code>（你的队伍标签）</li></ul></li></ul></li></ul><h3 id="teamtags" tabindex="-1">teamTags <a class="header-anchor" href="#teamtags" aria-label="Permalink to &quot;teamTags&quot;">​</a></h3><ul><li><strong>addTeamTags</strong><ul><li>添加队伍标签。 <ul><li><code>string</code>（你的队伍标签）</li></ul></li></ul></li><li><strong>removeTeamTags</strong><ul><li>移除队伍标签。 <ul><li><code>string</code>（你的队伍标签）</li></ul></li></ul></li></ul><h3 id="basic" tabindex="-1">basic <a class="header-anchor" href="#basic" aria-label="Permalink to &quot;basic&quot;">​</a></h3><ul><li>自身没有作用，但可用作链接激活的占位符。</li></ul><h3 id="info" tabindex="-1">info <a class="header-anchor" href="#info" aria-label="Permalink to &quot;info&quot;">​</a></h3><ul><li>自身不会被 RW 读取，可在 <code>Triggers</code> 层作注释。</li></ul><h3 id="objective" tabindex="-1">objective <a class="header-anchor" href="#objective" aria-label="Permalink to &quot;objective&quot;">​</a></h3><ul><li>自身没有作用，可用作 <code>winCondition</code> 为 <code>requiredObjectives</code> 时的胜利条件。</li></ul><h3 id="maptext" tabindex="-1">mapText <a class="header-anchor" href="#maptext" aria-label="Permalink to &quot;mapText&quot;">​</a></h3><ul><li><strong>text</strong><ul><li>文本内容。 <ul><li><code>string</code></li></ul></li></ul></li><li><strong>text_lang</strong><ul><li>设置针对不同语言显示的文本（需要有 <code>text</code> 前提）。 <ul><li><code>string</code></li><li>例：<code>text_en</code></li></ul></li></ul></li><li><strong>style</strong><ul><li>文本样式。 <ul><li><code>arrow/</code></li></ul></li></ul></li><li><strong>textColor</strong><ul><li>文本颜色。 <ul><li><code>green/red/blue/yellow/cyan/white/black/purple/#00000000~FFFFFFFF</code></li><li>例：<code>textColor:#5CA362CC</code></li><li>注：前两位是透明度。</li></ul></li></ul></li><li><strong>textOffsetX</strong><ul><li>文本横向偏移量。 <ul><li><code>int</code></li></ul></li></ul></li><li><strong>textOffsetY</strong><ul><li>文本纵向偏移量。 <ul><li><code>int</code></li></ul></li></ul></li><li><strong>textSize</strong><ul><li>文本大小，数字越大字符越大。 <ul><li><code>int</code></li></ul></li></ul></li></ul><h3 id="changecredits" tabindex="-1">changeCredits <a class="header-anchor" href="#changecredits" aria-label="Permalink to &quot;changeCredits&quot;">​</a></h3><ul><li><strong>add</strong><ul><li>添加资金，可为负数，数值过大无效。 <ul><li><code>int</code></li></ul></li></ul></li><li><strong>set</strong><ul><li>将资金设置在一定数量，数值过大无效。 <ul><li><code>int</code></li></ul></li></ul></li></ul><h3 id="movecamera" tabindex="-1">moveCamera <a class="header-anchor" href="#movecamera" aria-label="Permalink to &quot;moveCamera&quot;">​</a></h3><ul><li>将视野强制移动到指定位置。</li></ul><h2 id="通用触发代码" tabindex="-1">通用触发代码 <a class="header-anchor" href="#通用触发代码" aria-label="Permalink to &quot;通用触发代码&quot;">​</a></h2><ul><li><p><strong>team</strong></p><ul><li>队伍。 <ul><li><code>string</code>（<code>-2/none/-1/0/1/2/3/4/5/6/7/8/9</code>）</li></ul></li><li>注：通常情况下必须填写，否则游戏会闪退。</li></ul></li><li><p><strong>debugMessage</strong></p><ul><li>在沙盒模式中开启 <code>debug</code> 模式后显示的信息。 <ul><li><code>string</code></li></ul></li></ul></li><li><p><strong>globalMessage</strong></p><ul><li>全局消息。 <ul><li><code>string</code></li></ul></li></ul></li><li><p><strong>globalMessage_lang</strong></p><ul><li>设置针对不同语言显示的全局消息（需要有 <code>globalMessage</code> 前提）。 <ul><li><code>string</code></li><li>例：<code>globalMessage_en</code></li></ul></li></ul></li><li><p><strong>globalMessage_delayPerChar</strong></p><ul><li>全局消息弹出速度。 <ul><li><code>string</code>（<code>slow</code>）/ <code>int</code></li></ul></li></ul></li><li><p><strong>globalMessage_textColor</strong></p><ul><li>全局消息颜色。 <ul><li><code>string</code>（<code>green/red/blue/yellow/cyan/white/black/purple/#00000000~FFFFFFFF</code>）</li><li>例：<code>globalMessage_textColor:#5CA362CC</code></li><li>注：前两位是透明度。</li></ul></li></ul></li><li><p><strong>id</strong></p><ul><li>可被用来检测。 <ul><li><code>string</code></li></ul></li></ul></li><li><p><strong>warmup</strong></p><ul><li>当宾语符合触发条件时，效果将根据设定时间延迟，延迟耗尽时激活。 <ul><li><code>int</code></li></ul></li><li>注：在没有激活源的情况下，<code>warmup</code> 和 <code>delay</code> 没有太大差别。</li></ul></li><li><p><strong>delay</strong></p><ul><li>开局或重置后触发宾语的时间。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>activatedBy</strong></p><ul><li>检测所连接宾语的名称或 <code>id</code>，如果连接来源符合则触发。 <ul><li><code>string</code>（<code>object name/id</code>）</li><li>例：<code>activatedBy:1,2</code></li></ul></li></ul></li><li><p><strong>allToActivate</strong></p><ul><li>必须连接的所有触发条件都被激活才会触发。 <ul><li><code>bool</code></li><li>例：<div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">unitAdd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  activatedBy:1,2</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  allToActivate:true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  team:0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  spawnUnits:tank</span></span></code></pre></div></li></ul></li></ul></li><li><p><strong>repeatDelay</strong></p><ul><li>重复延迟。宾语被触发后，再次执行效果的时间（会被 <code>deactivatedBy</code> 终止）。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>deactivatedBy</strong></p><ul><li>检测所连接宾语的名称或 <code>id</code>，如果连接来源是激活状态，则禁止触发。 <ul><li><code>string</code>（<code>object name/id</code>）</li></ul></li></ul></li><li><p><strong>alsoActivate</strong></p><ul><li>在宾语被触发后，触发所连接的宾语。 <ul><li><code>string</code>（<code>object name/id</code>）</li><li>例：<code>alsoActivate:3,4</code></li></ul></li></ul></li><li><p><strong>resetActivationAfter</strong></p><ul><li>重置宾语的时间间隔。重置后，所有已触发的属性将被清除并等待下一次触发。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>activateIds</strong></p><ul><li>同 <code>alsoActivate</code>。 <ul><li><code>string</code>（<code>object name/id</code>）</li></ul></li></ul></li><li><p><strong>whenActivatedIds</strong></p><ul><li>同 <code>activatedBy</code>。 <ul><li><code>string</code>（<code>object name/id</code>）</li></ul></li></ul></li><li><p><strong>showOnMap</strong></p><ul><li>宾语被激活后在小地图上产生标记提示。 <ul><li><code>bool</code></li></ul></li></ul></li><li><p><strong>comment</strong></p><ul><li>不会被读取，充当注释作用。 <ul><li><code>string</code></li></ul></li></ul></li></ul><h2 id="单位属性附加代码" tabindex="-1">单位属性附加代码 <a class="header-anchor" href="#单位属性附加代码" aria-label="Permalink to &quot;单位属性附加代码&quot;">​</a></h2><ul><li><p><strong>neutralTeam</strong></p><ul><li>生成中立队伍。 <ul><li><code>bool</code>（<code>true/false</code>）</li></ul></li></ul></li><li><p><strong>aggressiveTeam</strong></p><ul><li>生成全局敌对队伍。 <ul><li><code>bool</code>（<code>true/false</code>）</li></ul></li></ul></li><li><p><strong>spawnChance</strong></p><ul><li>单位生成概率。 <ul><li><code>int</code>（<code>0-1</code>）</li></ul></li></ul></li><li><p><strong>maxSpawnLimit</strong></p><ul><li>单位最大生成数量。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>techLevel</strong></p><ul><li>单位的科技等级，数值超出最大等级则生成等级为一的单位。 <ul><li><code>int</code></li><li>注：在 <code>damagingBorder</code> 和 <code>zoneMarker</code> 中代表圈的范围大小（一个科技等级为五格）。</li></ul></li></ul></li><li><p><strong>gridAlign</strong></p><ul><li>网格对齐。 <ul><li><code>bool</code>（<code>true/false</code>）</li><li>注：对齐碰撞箱。</li></ul></li></ul></li><li><p><strong>skipIfOverlapping</strong></p><ul><li>如果单位不属于这个地形则跳过生成。 <ul><li><code>bool</code>（<code>true/false</code>）</li><li>例：<code>seaFactory</code> 不能放在陆地或岩浆上。</li></ul></li></ul></li><li><p><strong>falling</strong></p><ul><li>单位从空中掉下来的效果。 <ul><li><code>bool</code>（<code>true/false</code>）</li><li>注：对大多数单位生效，极少部分无效。</li></ul></li></ul></li><li><p><strong>offsetX</strong></p><ul><li>单位生成地点偏移度（横轴）。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>offsetY</strong></p><ul><li>单位生成地点偏移度（纵轴）。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>offsetRandomXY</strong></p><ul><li>单位生成地点随机偏移度（横纵轴随机偏移）。 <ul><li><code>int</code></li><li>注：目前铁锈战争沙盒模式的随机系统有严重问题，建议在普通模式下测试代码效果。</li></ul></li></ul></li><li><p><strong>offsetRandomX</strong></p><ul><li>单位生成地点随机偏移度（横轴偏移）。 <ul><li><code>int</code></li><li>注：目前铁锈战争沙盒模式的随机系统有严重问题，建议在普通模式下测试代码效果。</li></ul></li></ul></li><li><p><strong>offsetRandomY</strong></p><ul><li>单位生成地点随机偏移度（纵轴偏移）。 <ul><li><code>int</code></li><li>注：目前铁锈战争沙盒模式的随机系统有严重问题，建议在普通模式下测试代码效果。</li></ul></li></ul></li><li><p><strong>offsetHeight</strong></p><ul><li>单位生成高度。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>offsetRandomDir</strong></p><ul><li>单位生成方向范围随机度。 <ul><li><code>int</code></li></ul></li></ul></li><li><p><strong>offsetDir</strong></p><ul><li>单位生成方向。 <ul><li><code>int</code></li></ul></li></ul></li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>下一篇文章</span><span class="title" data-v-e257564d>主页-Home</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Spldream Studio</p><p class="copyright" data-v-e315a0ad>Copyright © 2023-2025 RW-API-Code</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-dev.md\":\"Ji0smkB2\",\"cos.md\":\"B1ldxjjc\",\"index.md\":\"DFh6SNa5\",\"src_debug_test.md\":\"T0x-_AOD\",\"src_map_all.md\":\"D9uaSSuJ\",\"src_map_trigger.md\":\"DdBXl6Fv\",\"src_rw-engine_quick-start.md\":\"cetEdkRr\",\"src_unit_attachment.md\":\"BbE4Zstk\",\"src_unit_attack.md\":\"DS9XvDES\",\"src_unit_canbuild.md\":\"C-hxE1og\",\"src_unit_core.md\":\"DgSDW2Ok\",\"src_unit_graphics.md\":\"DIsU1bnZ\",\"src_unit_loginboolean.md\":\"7mKXmxzT\",\"src_unit_movement.md\":\"CJ9Tn0Xs\",\"src_unit_spawnunit_spawnprojectile.md\":\"BZKH7_7_\",\"src_unit_turret.md\":\"Bbu5Nk1J\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"RW-API_Code\",\"description\":\"Easy Code\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"单位API\",\"link\":\"/src/Unit/core\"},{\"text\":\"地图API\",\"link\":\"/src/Map/teada\"},{\"text\":\"调试API\",\"link\":\"/src/Debug/test\"},{\"text\":\"编写指南\",\"link\":\"/api-dev\"},{\"text\":\"RW-Engine指南\",\"link\":\"/src/RW-Engine/quick-start\"},{\"text\":\"感谢名单\",\"link\":\"/cos\"}],\"docFooter\":{\"prev\":\"上一篇文章\",\"next\":\"下一篇文章\"},\"sidebar\":[{\"text\":\"RW-API-Code\",\"items\":[{\"text\":\"主页-Home\",\"link\":\"/\"},{\"text\":\"-------------------------\",\"link\":\"\"},{\"text\":\"[API-单位组-Unit]\",\"link\":\"\"},{\"text\":\"核心-CORE\",\"link\":\"/src/Unit/core\"},{\"text\":\"可建造-CANBUILD\",\"link\":\"/src/Unit/canbuild\"},{\"text\":\"附属-ATTACHMENT\",\"link\":\"/src/Unit/attachment\"},{\"text\":\"图像-GRAPHICS\",\"link\":\"/src/Unit/graphics\"},{\"text\":\"炮塔-TURRET\",\"link\":\"/src/Unit/turret\"},{\"text\":\"攻击-ATTACK\",\"link\":\"/src/Unit/attack\"},{\"text\":\"运动-MOVEMENT\",\"link\":\"/src/Unit/movement\"},{\"text\":\"逻辑-LOGIC\",\"link\":\"/src/Unit/loginboolean\"},{\"text\":\"刷兵/刷单位-SPAWN\",\"link\":\"/src/Unit/spawnunit_spawnprojectile\"},{\"text\":\"-------------------------\",\"link\":\"\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/LingASDJ/RW-API-Code/\"}],\"footer\":{\"message\":\"Spldream Studio\",\"copyright\":\"Copyright © 2023-2025 RW-API-Code\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"zh\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"你干嘛~哎呦~无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"closeKeyAriaLabel\":\"关闭\",\"selectKeyAriaLabel\":\"选择\",\"navigateUpKeyAriaLabel\":\"上一个\",\"navigateDownKeyAriaLabel\":\"下一个\"},\"backButtonTitle\":\"返回上一级\",\"displayDetails\":\"显示详情\"}}}},\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"closeKeyAriaLabel\":\"关闭\",\"selectKeyAriaLabel\":\"选择\",\"navigateUpKeyAriaLabel\":\"上一个\",\"navigateDownKeyAriaLabel\":\"下一个\"},\"backButtonTitle\":\"返回上一级\",\"displayDetails\":\"显示详情\"}}}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>